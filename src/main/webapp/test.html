<!DOCTYPE html>
<html>
<head>
<meta charset="US-ASCII">
<title>Insert title here</title>
</head>
<script src="https://code.jquery.com/jquery-2.1.4.js" ></script>
<body>
<button id="find">find</button><Br>
<button id="findOne">findOne</button><Br>
<button id="create">create</button><Br>
<button id="error">error</button><Br>
<button id="async">async</button><Br>
<form>
	<label for="username">Username: </label><input id="username" name="username"><br/>
	<label for="password">Password:</label><input id="password" name="password"><br/>
	<button type="button" id="login">Login!</button>
</form>
<form>
	<button type="button" id="logout">Logout!</button>
</form>
<script>
var _data;
$("#find").click(function(){
	$.get("api/test").done(function(data){
		console.log(data);
	}).fail(function(jqXHR, textStatus, errorThrown) {
		console.log("fail:" + textStatus);
	});
});
$("#findOne").click(function(){
	$.get("api/test/aaa").done(function(data){
		console.log(data);
		_data = data;
	}).fail(function(jqXHR, textStatus, errorThrown) {
		console.log("fail:" + textStatus);
	});
});
$("#create").click(function(){
	$.ajax({
		url:"api/test", 
		type:"PUT",
		data:JSON.stringify(_data), 
		contentType: "application/json; charset=utf-8",
		dataType: "json"}).fail(function(jqXHR, textStatus, errorThrown) {
			console.log("fail:" + textStatus);
		});
});
$("#error").click(function(){
	$.get("api/test/error/error").done(function(data){
		console.log(data);
	}).fail(function(jqXHR, textStatus, errorThrown) {
		console.log("fail:" + textStatus);
	});
});
$("#async").click(function(){
	$.get("api/test/async/get").done(function(data){
		console.log(data);
	}).fail(function(jqXHR, textStatus, errorThrown) {
		console.log("fail:" + textStatus);
	});
});
$('#login').click(function (event) {
	event.preventDefault();
	//var data = 'j_username=' + $('#username').val() + '&j_password=' + $('#password').val();
	var data = {
			username:$('#username').val(),
			password:$('#password').val()
	};
	$.ajax({
		data: data,
		timeout: 1000,
		type: 'POST',
		url: 'login'

	}).done(function(data, textStatus, jqXHR) {
		console.log("authentication success");
	}).fail(function(jqXHR, textStatus, errorThrown) {
		console.log("authentication fail");
	});
});
$('#logout').click(function (event) {
	event.preventDefault();
	//var data = 'j_username=' + $('#username').val() + '&j_password=' + $('#password').val();
	$.ajax({
		timeout: 1000,
		type: 'GET',
		url: 'logout'

	}).done(function(data, textStatus, jqXHR) {
		console.log("logout success");
	}).fail(function(jqXHR, textStatus, errorThrown) {
		console.log("logout fail");
	});
});
</script>
</body>
</html>